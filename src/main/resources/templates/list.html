<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<!-- Bootstrapの設定 -->
	<link rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}">
	<title>Blog情報一覧</title>
</head>

<body>
	<nav class="navbar navbar-expand-sm navbar-dark bg-dark mb-3">
		<span class="navbar-toggler-icon"></span>
		<div class="collapse navbar-collapse justify-content-end" id="navbarNav4">
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="top">トップ<span class="sr-only"></span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" th:href="@{add}">新規登録</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" th:href="@{list}">一覧</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" th:href="@{edit}">編集</a>
				</li>
			</ul>
		</div>
	</nav>
	<h1>Blog情報一覧</h1>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>タイトル</th>
				<th>コンテンツ</th>
				<th>タグ</th>
				<th>画像</th>
				<th>編集</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="blogResult:${result}" th:object="${blogResult}" class="align-middle">
				<td th:text="*{title}"></td>
				<td th:text="*{contents}"></td>
				<th:block th:each="detail : ${blogResult.detailList}">
					<td th:text="${detail.tag}"></td>
					<td>
						<img th:src=" 'data:' + ${detail.contentType} + ';base64,' + ${detail.image}"
							style="max-width:200px;">
					</td>
				</th:block>

				<td><a class="btn btn-outline-info" th:href="@{edit}" role="button">編集</a></td>
			</tr>

		</tbody>
	</table>

	<a class="btn btn-primary" th:href="@{add}" role="button">新規登録</a>
	<form role="form" id="logout" th:action="@{/logout}" method="post">
		<button type="submit" class="btn btn-primary">ログアウト</button>
	</form>

</body>
<!-- Bootstrapの設定 -->
<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<!-- Bootstrapの設定 -->
<script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>

</html>